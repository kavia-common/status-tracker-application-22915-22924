{"is_source_file": true, "format": "Python", "description": "Test suite for the authentication flow of the status tracker backend application, including unit tests for signup, login, token refresh, and logout functionalities using pytest and mocked external dependencies.", "external_files": ["app", "app.extensions", "app.supabase_auth"], "external_methods": ["pytest.fixture", "pytest.setenv", "pytest.setattr"], "published": ["test_signup_success", "test_signup_failure_maps_error", "test_login_success_and_access_protected_routes", "test_login_missing_fields_422", "test_login_invalid_credentials_maps_401", "test_refresh_token_flow", "test_logout_revokes_app_token_and_calls_supabase_logout"], "classes": [{"name": "_Resp", "description": "A mock response object mimicking requests.Response for testing purposes, used to simulate responses from the external API calls."}], "methods": [{"name": "_make_response(data: Dict[str, Any], status: int = 200)", "description": "Creates a mock response object with a payload and status code to simulate external API responses.", "scope": "", "scopeKind": ""}, {"name": "__init__(self, payload, status_code)", "scope": "_make_response._Resp", "scopeKind": "class", "description": "unavailable"}, {"name": "app(monkeypatch, tmp_path)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "client(app)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "json(self)", "scope": "_make_response._Resp", "scopeKind": "class", "description": "unavailable"}, {"name": "mock_logout(url, headers=None, timeout=None)", "scope": "test_logout_revokes_app_token_and_calls_supabase_logout", "scopeKind": "function", "description": "unavailable"}, {"name": "mock_post(url, headers=None, data=None, timeout=None)", "scope": "test_signup_success", "scopeKind": "function", "description": "unavailable"}, {"name": "test_login_invalid_credentials_maps_401(client, monkeypatch)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "test_login_missing_fields_422(client)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "test_login_success_and_access_protected_routes(client, monkeypatch)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "test_logout_revokes_app_token_and_calls_supabase_logout(client, monkeypatch)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "test_refresh_token_flow(client, monkeypatch)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "test_signup_failure_maps_error(client, monkeypatch)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "test_signup_success(client, monkeypatch)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["app.create_app", "db.create_all", "pytest.fixture", "pytest.setenv", "pytest.setattr", "json.loads", "client.post", "client.get"], "search-terms": ["test_auth_supabase_flow", "pytest fixtures", "mock_post", "supabase_auth", "signup", "login", "refresh", "logout", "JWT", "Fake response"], "state": 2, "file_id": 19, "knowledge_revision": 63, "git_revision": "f24a88cb3d99e8abb67d33f663c5cf3cea752b55", "revision_history": [{"61": ""}, {"63": "f24a88cb3d99e8abb67d33f663c5cf3cea752b55"}], "ctags": [{"_type": "tag", "name": "_Resp", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/tests/test_auth_supabase_flow.py", "pattern": "/^    class _Resp:$/", "file": true, "language": "Python", "kind": "class", "scope": "_make_response", "scopeKind": "function"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/tests/test_auth_supabase_flow.py", "pattern": "/^        def __init__(self, payload, status_code):$/", "language": "Python", "kind": "member", "signature": "(self, payload, status_code)", "scope": "_make_response._Resp", "scopeKind": "class"}, {"_type": "tag", "name": "_make_response", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/tests/test_auth_supabase_flow.py", "pattern": "/^def _make_response(data: Dict[str, Any], status: int = 200):$/", "language": "Python", "kind": "function", "signature": "(data: Dict[str, Any], status: int = 200)"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/tests/test_auth_supabase_flow.py", "pattern": "/^def app(monkeypatch, tmp_path):$/", "language": "Python", "kind": "function", "signature": "(monkeypatch, tmp_path)"}, {"_type": "tag", "name": "client", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/tests/test_auth_supabase_flow.py", "pattern": "/^def client(app):$/", "language": "Python", "kind": "function", "signature": "(app)"}, {"_type": "tag", "name": "json", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/tests/test_auth_supabase_flow.py", "pattern": "/^        def json(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "_make_response._Resp", "scopeKind": "class"}, {"_type": "tag", "name": "mock_logout", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/tests/test_auth_supabase_flow.py", "pattern": "/^    def mock_logout(url, headers=None, timeout=None):$/", "file": true, "language": "Python", "kind": "function", "signature": "(url, headers=None, timeout=None)", "scope": "test_logout_revokes_app_token_and_calls_supabase_logout", "scopeKind": "function"}, {"_type": "tag", "name": "mock_post", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/tests/test_auth_supabase_flow.py", "pattern": "/^    def mock_post(url, headers=None, data=None, timeout=None):$/", "file": true, "language": "Python", "kind": "function", "signature": "(url, headers=None, data=None, timeout=None)", "scope": "test_login_invalid_credentials_maps_401", "scopeKind": "function"}, {"_type": "tag", "name": "mock_post", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/tests/test_auth_supabase_flow.py", "pattern": "/^    def mock_post(url, headers=None, data=None, timeout=None):$/", "file": true, "language": "Python", "kind": "function", "signature": "(url, headers=None, data=None, timeout=None)", "scope": "test_login_success_and_access_protected_routes", "scopeKind": "function"}, {"_type": "tag", "name": "mock_post", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/tests/test_auth_supabase_flow.py", "pattern": "/^    def mock_post(url, headers=None, data=None, timeout=None):$/", "file": true, "language": "Python", "kind": "function", "signature": "(url, headers=None, data=None, timeout=None)", "scope": "test_logout_revokes_app_token_and_calls_supabase_logout", "scopeKind": "function"}, {"_type": "tag", "name": "mock_post", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/tests/test_auth_supabase_flow.py", "pattern": "/^    def mock_post(url, headers=None, data=None, timeout=None):$/", "file": true, "language": "Python", "kind": "function", "signature": "(url, headers=None, data=None, timeout=None)", "scope": "test_refresh_token_flow", "scopeKind": "function"}, {"_type": "tag", "name": "mock_post", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/tests/test_auth_supabase_flow.py", "pattern": "/^    def mock_post(url, headers=None, data=None, timeout=None):$/", "file": true, "language": "Python", "kind": "function", "signature": "(url, headers=None, data=None, timeout=None)", "scope": "test_signup_failure_maps_error", "scopeKind": "function"}, {"_type": "tag", "name": "mock_post", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/tests/test_auth_supabase_flow.py", "pattern": "/^    def mock_post(url, headers=None, data=None, timeout=None):$/", "file": true, "language": "Python", "kind": "function", "signature": "(url, headers=None, data=None, timeout=None)", "scope": "test_signup_success", "scopeKind": "function"}, {"_type": "tag", "name": "test_login_invalid_credentials_maps_401", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/tests/test_auth_supabase_flow.py", "pattern": "/^def test_login_invalid_credentials_maps_401(client, monkeypatch):$/", "language": "Python", "kind": "function", "signature": "(client, monkeypatch)"}, {"_type": "tag", "name": "test_login_missing_fields_422", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/tests/test_auth_supabase_flow.py", "pattern": "/^def test_login_missing_fields_422(client):$/", "language": "Python", "kind": "function", "signature": "(client)"}, {"_type": "tag", "name": "test_login_success_and_access_protected_routes", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/tests/test_auth_supabase_flow.py", "pattern": "/^def test_login_success_and_access_protected_routes(client, monkeypatch):$/", "language": "Python", "kind": "function", "signature": "(client, monkeypatch)"}, {"_type": "tag", "name": "test_logout_revokes_app_token_and_calls_supabase_logout", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/tests/test_auth_supabase_flow.py", "pattern": "/^def test_logout_revokes_app_token_and_calls_supabase_logout(client, monkeypatch):$/", "language": "Python", "kind": "function", "signature": "(client, monkeypatch)"}, {"_type": "tag", "name": "test_refresh_token_flow", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/tests/test_auth_supabase_flow.py", "pattern": "/^def test_refresh_token_flow(client, monkeypatch):$/", "language": "Python", "kind": "function", "signature": "(client, monkeypatch)"}, {"_type": "tag", "name": "test_signup_failure_maps_error", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/tests/test_auth_supabase_flow.py", "pattern": "/^def test_signup_failure_maps_error(client, monkeypatch):$/", "language": "Python", "kind": "function", "signature": "(client, monkeypatch)"}, {"_type": "tag", "name": "test_signup_success", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/tests/test_auth_supabase_flow.py", "pattern": "/^def test_signup_success(client, monkeypatch):$/", "language": "Python", "kind": "function", "signature": "(client, monkeypatch)"}], "hash": "1a4253edbd5618614b9a7f1680da036d", "format-version": 4, "code-base-name": "status_tracker_backend", "filename": "status_tracker_backend/tests/test_auth_supabase_flow.py"}