{"is_source_file": true, "format": "Python", "description": "This file implements authentication routes for a Flask-based backend using flask_smorest, flask_jwt_extended, and related extensions. It defines endpoints for user sign-up, login, token refresh, and logout, including JWT token handling and claim management.", "external_files": ["../extensions", "../models", "../schemas"], "external_methods": ["create_access_token", "create_refresh_token", "jwt_required", "get_jwt_identity", "get_jwt", "abort"], "published": ["blp", "JWT_BLOCKLIST"], "classes": [{"name": "SignUp", "description": "Handles user registration via /signup endpoint."}, {"name": "Login", "description": "Handles user login and token generation via /login endpoint."}, {"name": "Refresh", "description": "Handles token renewal via /refresh endpoint."}, {"name": "Logout", "description": "Handles logout and token revocation via /logout endpoint."}], "methods": [{"name": "check_if_token_revoked(jwt_header, jwt_payload)", "description": "Checks if a JWT token has been revoked by looking it up in JWT_BLOCKLIST.", "scope": "", "scopeKind": ""}, {"name": "post (SignUp)", "description": "Creates a new user; if first user, grants admin privileges."}, {"name": "post (Login)", "description": "Authenticates user, generates and returns JWT tokens."}, {"name": "post (Refresh)", "description": "Generates a new access token using a refresh token."}, {"name": "post (Logout)", "description": "Revokes the current JWT token by adding its JTI to JWT_BLOCKLIST."}, {"name": "post(self)", "scope": "Refresh", "scopeKind": "class", "description": "unavailable"}, {"name": "post(self, body)", "scope": "SignUp", "scopeKind": "class", "description": "unavailable"}], "calls": ["User.query.filter_by", "User.query.count", "user.set_password", "db.session.add", "db.session.commit", "create_access_token", "create_refresh_token", "get_jwt_identity", "get_jwt", "datetime.now"], "search-terms": ["auth routes", "JWT token management", "flask_smorest Blueprint", "token revocation", "user registration", "login endpoint", "refresh token", "logout token revocation"], "state": 2, "file_id": 12, "knowledge_revision": 41, "git_revision": "348de72255574a40c21cfcf19f13bdf1ceaaf334", "revision_history": [{"25": ""}, {"40": "348de72255574a40c21cfcf19f13bdf1ceaaf334"}, {"41": "348de72255574a40c21cfcf19f13bdf1ceaaf334"}], "ctags": [{"_type": "tag", "name": "JWT_BLOCKLIST", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/app/routes/auth.py", "pattern": "/^JWT_BLOCKLIST = set()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "Login", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/app/routes/auth.py", "pattern": "/^class Login(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Logout", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/app/routes/auth.py", "pattern": "/^class Logout(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Refresh", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/app/routes/auth.py", "pattern": "/^class Refresh(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SignUp", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/app/routes/auth.py", "pattern": "/^class SignUp(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "blp", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/app/routes/auth.py", "pattern": "/^blp = Blueprint($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "check_if_token_revoked", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/app/routes/auth.py", "pattern": "/^def check_if_token_revoked(jwt_header, jwt_payload):$/", "language": "Python", "kind": "function", "signature": "(jwt_header, jwt_payload)"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/app/routes/auth.py", "pattern": "/^    def post(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "Login", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/app/routes/auth.py", "pattern": "/^    def post(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "Logout", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/app/routes/auth.py", "pattern": "/^    def post(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "Refresh", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/status-tracker-application-22915-22924/status_tracker_backend/app/routes/auth.py", "pattern": "/^    def post(self, body):$/", "language": "Python", "kind": "member", "signature": "(self, body)", "scope": "SignUp", "scopeKind": "class"}], "hash": "5cd68811db25082bc83d82589b0bcb81", "format-version": 4, "code-base-name": "status_tracker_backend", "filename": "status_tracker_backend/app/routes/auth.py", "fields": [{"name": "JWT_BLOCKLIST = set()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "blp = Blueprint(", "scope": "", "scopeKind": "", "description": "unavailable"}]}